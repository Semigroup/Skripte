\marginpar{Lecture from 09.03.2020}

\begin{theorem}[Goal Theorem]
Let $G$ an algebraic group. For all $g \in G$ there is exactly one pair $g_s, g_u \in G$ s.t.
\[g = g_s g_u = g_u g_s\]
and for all finite-dimensional representations $r : G \pfeil{} \GL_n(V)$, the element $r(g_s)$ resp. $r(g_u)$ is semisimple resp. unipotent.
\end{theorem}
Last time, we saw:
\begin{lemma}
	\begin{itemize}
		\item	If $g,h$ are commuting and semisimple resp. commuting and unipotent then so is $gh$.
		\item If $g$ is semisimple and unipotent, then $g = 1$.
	\end{itemize}
\end{lemma}

\begin{proposition}
Let $V$ be a finite-dimensional vector space and $g \in \GL(V)$. There exist unique elements $g_s, g_u \in \GL(V)$ s.t.
\[ g = g_s g_u = g_u g_s \]
and $g_s$ is semisimple and $g_u$ is unipotent.

Moreover, $g_s, g_u \in k[g] = \set{\sum_{i=1}^m a_i g^i}{a_i \in k} \subseteq \End(V).$
\end{proposition}
\begin{proof}
\textbf{Existence} (Sketch): Say
\[ g = \mat{ \lambda & 1 & 0\\ & \lambda & 1\\ & & \lambda} \]
then take
\[ g_s = \mat{ \lambda &  & \\ & \lambda & \\ & & \lambda}, ~~ g_u = \mat{ 1 & \lambda\i & 0 \\ & 1 & \lambda\i \\ & & 1}. \]
For $\lambda \in k$, define the \df{generalized $\lambda$-eigenspace} of $g$ by
\[ V_\lambda := \set{v \in V}{\exists n \in \N_0:~ (g-\lambda)^n v = 0  }. \]
Then
\[ V = \bigoplus_{\lambda \in k} V_\lambda. \]
Here $V_\lambda = \text{sum of domains of all Jordan blocks with }\lambda\text{s on the diagonal}.$ (It follows from the Jordan Decomposition for matrices that such a decomposition exist.)

Let's define $g_s \in \GL(V)$ by
\[ g_s|_{V_\lambda} = \lambda \cdot \id{}. \]
Note that $gV_\lambda \subset V_\lambda$, hence $g$ commutes with $g_s$, hence $g, g_s$ commutes with $g_u := gg_s\i$. Then, $g = g_s g_u = g_ug_s$.


Write $\det(T- g) = \prod_\lambda (T-\lambda)^{n(\lambda)}$, $n(\lambda) = \dim (V_\lambda)$.
Since the polynomials $T-\lambda$ for $\lambda \in k$ are coprime, the chinese remainder theorem implies that there is a $Q \in k[T]$ s.t.
\[ Q \equiv  \lambda \mod (T-\lambda)^{n(\lambda)} \]
for each $\lambda \in k$.

We claim that
\[ Q(g) = g_s.  \]
Indeed, since $gV_\lambda \subseteq V_\lambda$, we have
\[ Q(g) V_\lambda \subseteq V_\lambda. \]
So, it suffices to show for all $v \in V_\lambda$
\[ Q(g)v =g_sv = \lambda v. \]
Note that, by Cayley-Hamilton,
\[ V_\lambda = \set{v \in V}{ (g-\lambda)^{n(\lambda)} v = 0. } \]
Write
\[ Q = \lambda + R \cdot (T-\lambda)^{n(\lambda)} \]
for some $R \in k[T]$.
Since $(g-\lambda)^{n(\lambda)}v = 0$, deduce that $Q(g)v = \lambda v$, as required.

If $Q' \equiv T(T-\lambda)^{n(\lambda)}$, then
\[ Q'(g) = g_u. \]
If $Q'' \equiv \lambda\i (T- \lambda)^{n(\lambda)}$, then $Q''(g) = g\i_s$.
check corresponding stuff for $g_u$.


\textbf{Uniqueness}: Suppose given some other decomposition
\[ g = g_s'g_u' = g_u'g_s' \]
with $g_s'$ semisimple and $g_u'$ unipotent. Then $g_s'$ commutes with $g_s'$ and $g_u'$, hence with $g$, hence also with any element in $k[g]$.
Ergo, $g_s'$ commutes with $g_s$ and $g_u$. Similarly, $g_u'$ commutes with $g_s$ and $g_u$.

Consider 
\[ h := g_s' g_s\i = g_s' g_u' (g_u')\i g_s\i = g (g_u')\i g_s\i = g_u (g_u')\i. \]
Then $h = g_s' g_s\i$ is a product of semisimple elements and $h = g_u (g_u')\i$ is a product of unipotent elements. By proceeding lemmas, $h$ is semisimple and unipotent, ergo trivial. It follows $g_s' = g_s$ and $g_u' = g_u$.
\end{proof}

\begin{corollary}
Let $g \in \GL(V)$, let $W \subset V$ be any \df{$g$-invariant subspace}, i.e. $gW \subseteq W$.

Then, $W$ is $g_s$-invariant and $g_u$-invariant.
\end{corollary}
\begin{proof}
This is clear, since $g_s$ and $g_u$ are algebraically generated by $g$ over $g$.
\end{proof}

\begin{lemma}
Let $\phi : V \pfeil{} W$ be a linear map between finite-dimensional vector spaces.

Let $\alpha \in \GL(W)$ and $\beta \in \GL(W)$ s.t.
\begin{center}
	\begin{tikzcd}
	V \arrow[r, "\alpha"] \arrow[d,  "\phi"] & V \arrow[d, "\phi"]\\
	W \arrow[r, "\beta" ] & W,
	\end{tikzcd}
\end{center}
i.e. $\phi \circ \alpha = \beta \circ \phi$.

Then,
\begin{align*}
\phi \circ \alpha_s &= \beta_s \circ \phi,\\
\phi \circ \alpha_u &= \beta_u \circ \phi.
\end{align*}
\end{lemma}
\begin{proof}
Write $V = \bigoplus_{\lambda \in k} V_\lambda$, $W = \bigoplus_{\lambda \in k} W_\lambda$ where $V_\lambda$ are the generalized $\alpha$-eigenspaces and $W_\lambda$ are the generalized $\beta$-eigenspaces.

We claim that
\[ \phi (V_\lambda) \subset W_\lambda. \]

Indeed, let $v \in V_\lambda$, then
\[(\beta-\lambda)^n\phi(v) = \phi((\alpha-\lambda)^n v) = 0.\]
Since $(\alpha-\lambda)^n v$ = 0, the claim follows.

Since, $\alpha_s|_{V_\lambda} = \lambda \id{}$ and $\beta_s |_{W_\lambda} = \lambda \id{}$, deduce that
\[ \phi \circ \alpha_s = \beta_s \circ \phi. \]
Indeed, both sides are given on $V_\lambda$ by $\lambda \cdot \phi$. Thus
\begin{align*}
\phi \circ \alpha_u &= \phi \circ \alpha\alpha_s\i\\
&= \beta \beta_s\i \circ \phi\\
&= \beta_u \circ \phi. \tag*{\qedhere} 
\end{align*} 
\end{proof}

\begin{lemma}
Let $\alpha \in \GL(V)$, $\beta \in \GL(W)$. Then the \df{tensor} $\alpha \otimes \beta \in \GL(V\otimes W)$ is defined by
\begin{align*}
(\alpha\otimes \beta)(u\otimes v) = \alpha(u) \otimes \beta(v).
\end{align*}
Then, we have
\begin{align*}
(\alpha \otimes \beta)_s &\overset{(1)}{=} \alpha_s \otimes \beta_s\\
(\alpha \otimes \beta)_u &\overset{(2)}{=}  \alpha_u \otimes \beta_u.
\end{align*}
\end{lemma}
\begin{proof}
It suffices to prove (1), since
\begin{align*}
(\alpha \otimes \beta)_u &=
(\alpha \otimes \beta) \circ (\alpha \otimes \beta)_s\i\\
&\overset{(1)}{=} (\alpha \otimes \beta) \circ (\alpha_s \otimes \beta_s)\i\\
&= \alpha\alpha_s\i \otimes \beta \beta_s\i\\
&= \alpha_u\i \otimes \beta_u\i
\end{align*}

For (1), consider
\begin{align*}
V &= \bigoplus_{\lambda \in k} V_\lambda,\\
W &= \bigoplus_{\lambda \in k} W_\lambda.\\
\end{align*}
It follows
\[ V\otimes W = \bigoplus_{\lambda, \mu \in k} V_\lambda \otimes W_\mu. \]
Now,
\[ \alpha_s \otimes \beta_s|_{V_\lambda \otimes W_\mu} = \lambda\mu \cdot \id{}. \]
Ergo, $\alpha_s \otimes \beta_s$ is semisimple. By Proposition, we reduce to checking that $\alpha_u \otimes \beta_u$ is unipotent. Indeed,
\[ \alpha_u \otimes \beta_u - 1 = (\alpha_u -1) \otimes  (\beta_u - 1)  + 1 \otimes (\beta_u - 1) + (\alpha_u - 1) \otimes 1 \]
is nilpotent (You can also check that $\alpha_u \otimes \beta_u = (\alpha_u \otimes 1) \circ (1 \otimes \beta_u)$ is unipotent.)
\end{proof}

\begin{example}
	Let $1 \in \GL(V)$. Then $1_s = 1$ and $1_u = 1$.
\end{example}

\paragraph{Summary}: Let $G$ be an algebraic group. Let $r_V : G \pfeil{} \GL(V)$ be a finite-dimensional representation. Also, fix $g \in G$.

Let $\lambda_V := r_V(g)_s$ (or $r_V(g)_u$).

We get a family of operators $\lambda_V \in \End(V)$ with the following properties:
\begin{enumerate}[(i)]
	\item if $V = k$ and $r_V(g') = 1$ for all $g' \in G$, then $\lambda_V = 1$.
	\item for any two representations in $V$ and $W$, we have
	\[\lambda_{V\otimes W} = \lambda_V \otimes \lambda_W.\]
	\item for all $G$-equivariant $\phi : V \pfeil{} W$ we have
	\[ \phi \circ \lambda_V = \lambda_W \circ  \phi. \]
\end{enumerate}

\begin{theorem}
Let $G$ be an algebraic group. Let $\lambda_V \in \End(V)$ (i.e. $V = (r_V, V)$ is a finite-dim. representation of $G$) be a family of operations satisfying (i), (ii), (iii).

Then, there is exactly one $g \in G$ s.t. $\lambda_V = r_V(g)$ for all $V$.
\end{theorem}
Note, that this theorem implies our goal theorem.

Applying the theorem to $\lambda_V = r_V(g_s)$ implies
\[ \exists g_s \in G: r_V(g_s) = r_V(g)_s \]
and
\[ \exists g_u \in G: r_V(g_u) = r_V(g)_u. \]

\begin{proof}[Proof of Goal Theorem]
There exist unique $g_s, g_u \in G$ s.t.
\[ g \overset{(*)}{=} g_u g_s = g_s g_u, \]
Then, $r_V(g) = r_V(g_s) r_V(g_u) = r_V(g_u) r_V(g_s)$.

Since $r_V(g_u)$ is unipotent and $r_V(g_s)$ is semisimple, it follows $r_V(g_u) = r_V(g)_u$ and $r_V(g_s) = r_V(g)_s$.

To deduce $(*)$, take any $r_V:G \inj{} \GL(V)$. We know for each $V$
\[ r_V(g) = r_V(g_s) r_V(g_u) = r_V(g_u)r_V(g_s). \]
\end{proof}

\begin{proof}[Proof of Theorem]
We first extend the assignment
\[ V \mapsto \lambda_V \]
to all\footnotetext{Not necessarily finite-dimensional, but may be written as a filtered union of finite-dimensional $G$-invariant subspaces of $W$.} representations of $G$.

Say $V = \bigcup_{j} W_j$ where each $W_j$ is a finite-dimensional $G$-invariant subspace. Try to define $\lambda_V \in  \End(V)$ by 
\[ \lambda_V|_{W_j} := \lambda_{W_j}. \]
For this to be well-defined, we need to show for each $i,j$
\[ \lambda_{W_i}|_{W_i \cap W_j} \overset{(*)}{=} \lambda_{W_j}|_{W_i \cap W_j}. \]

\paragraph{Proof of $(*)$:} Apply assumption (iii) to the $G$-equivariant linear maps
\begin{align*}
W_i \cap W_j &\inj{\phi} W_i,\\
W_i \cap W_j &\inj{\phi'} W_j.\\
\end{align*}
Then,
\begin{align*}
\lambda_{W_i} |_{W_i \cap W_j} & = \lambda_{W_i} \circ \phi \\
&\overset{(iii)}{=} \phi\circ \lambda_{W_i \cap W_j} \\
&= \phi'\circ \lambda_{W_i \cap W_j}
\end{align*}
and
\begin{align*}
\lambda_{W_j} |_{W_i \cap W_j} & = \lambda_{W_i} \circ \phi' =  \phi'\circ \lambda_{W_i \cap W_j}.
\end{align*}
Recall here that any finite-dimensional $G$-invariant $W\subset V$ is a representation.
\end{proof}
